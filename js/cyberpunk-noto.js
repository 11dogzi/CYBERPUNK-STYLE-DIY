const t=o;!function(){const t=o,s=h();for(;;)try{if(919460===parseInt(t(333))/1*(parseInt(t(284))/2)+parseInt(t(258))/3*(-parseInt(t(182))/4)+parseInt(t(232))/5+-parseInt(t(196))/6+parseInt(t(174))/7*(-parseInt(t(432))/8)+parseInt(t(223))/9*(parseInt(t(308))/10)+parseInt(t(411))/11)break;s.push(s.shift())}catch(t){s.push(s.shift())}}();import{app as s}from"../../scripts/app.js";const i=window[t(183)]||function(t){return t};class e extends LGraphNode{constructor(s){const i=t;super(s),this[i(245)]=s,this[i(324)]=!0,this.isVirtualNode=!0,this[i(390)]=this[i(202)].type,this.type=this.constructor[i(309)],this[i(418)]=[0,0]}static setUp(){const s=t;this[s(261)]||(LiteGraph[s(274)](this[s(309)],this),this.registered=!0)}[t(275)](s){const i=t;s[i(259)]&&Object.assign(this[i(259)],s.properties),s[i(418)]&&(this[i(418)]=s.pos),s[i(374)]&&(this[i(374)]=s.size),s[i(235)]&&(this[i(235)]=s.flags)}[t(386)](){const s=t,i=super[s(386)]();return!i.id&&this.id&&(i.id=this.id),i[s(319)]||void 0===this[s(319)]||(i.order=this[s(319)]),i[s(402)]||void 0===this[s(402)]||(i.mode=this[s(402)]),i[s(259)]={...this[s(259)]},!i[s(418)]&&this[s(418)]&&(i.pos=[...this[s(418)]]),!i.size&&this[s(374)]&&(i[s(374)]=[...this.size]),!i[s(235)]&&this.flags&&(i.flags={...this[s(235)]}),i}}function h(){const t=["yMDJB2XVCG","BwvHC3vYzvrLEhq","C2vSzwn0","B3bLBKXPBMS","C2vYAwfSAxPL","DMfSDwu","z2v0tM9Kzu9Uug9Z","DhjHBNnWyxjLBNq","y2XHC3nFDhLWzq","ywjZB2X1Dgu","Aw5KzxG","BgLUAW","yxbWBhK","C3rLCa","z2fW","z2v0qM91BMrPBMDdBgLLBNrszwn0","C2XPy2u","Dgv4DevKAxrVCKjVCMrLCLjHzgL1CW","zhjHDW","zhjHD05Vzgu","Bw9Kzq","zg9JDw1LBNrdBgLJA0HHBMrSzxi","BgvUz3rO","ChGGqxjPywWSihnHBNmTC2vYAwy","Dgv4DevKAxrVCKXPBMvtCgfJAw5N","zMXLEa","B25szw1VDMvK","yMX1CG","y2XPy2TdB3vUDa","mtyYnZi3ntfzqvfkv0C","Dgv4DevKAxrVCKjHy2TNCM91BMq","Dgv4DevKAxrVCLnPEMu","Ahr0Chm6lY8","Dgv4DevKAxrVCKvKAxq","y29UDMvYDev2zw50vg9dyw52yxnpzMzZzxq","C3vIC3rYAw5N","Cg9Z","mtbWEa","y29UDgfPBNm","zM9JDxm","zM9UDa","qgzVBNrdB2XVCG","mJrWEa","BgLUzvDPzhrO","y29TyM8","zM9UDfnPEMvwywX1zq","B2zMC2v0","y2fUDMfZvxbKyxrLsw50zxj2ywW","C2v0rgLYDhLdyw52yxm","Dgv4DenVBNrLBNq","mJm4ndGWCeTLshrt","D2HPy2G","Cg9ZAxrPB24","Dgv4DevKAxrVCKfSAwDUBwvUDa","ywXPz25jDgvTCW","yM9YzgvY","yMDdB2XVCLbPy2TLCG","BwLUv2LKDgG","Dg9gAxHLza","mtaWma","mtG5s1DhzwX2","y29SB3i","BgfZDf9TB3vZzwnSAwnR","y29UDgvUDa","yM9YzgvYlwjVEa","DxjS","y2XPCa","B25eCMf3qMfJA2DYB3vUza","mtjlrK1Zq1C","z2v0vgv4Da","qhrLEhq","C3rVCfbYB3bHz2f0Aw9U","C3rYAw5N","ChjVy2vZC2LUz01VDxnLrg93BG","CxvLCNLtzwXLy3rVCG","zgL2lNbYB3bLCNr5w2rHDgeTChjVCgvYDhK9iK1VzguIxq","mtaWmq","zM9UDfnPEMvtBgLKzxi","m3b4","CM91BMrszwn0","zwrPDfrVB2XIyxi","z2v0vgLTzq","mZuZmJq3meLMrerXra","ChjVDg90ExbL","iZrdquy1ma","BgLUA09Wzw5dB25MAxjT","D2LKDgG","y2fSBa","y29UC3rYDwn0B3i","Bwf4","BwLU","B25szxnPEMu","i2zMzMzMzG","ChjVy2vZC01VDxnLrg93BG","x2jSyw5R","Dgv4DevKAxrVCKfSAwDUq2vUDgvYqNrU","Dw5KzwzPBMvK","zM9YrwfJAa","Dgv4DevKAxrVCKnVBNrLBNq","C3LTyM9S","CgfKzgLUz1rVCa","z3jHCgG","ywXWAgftBgLKzxi","B3v0BgLUzq","Bwf0y2G","Dg9W","mtfWEa","C2nHBgu","A2v5zg93BG","mJDLrff4wvm","C3r5Bgu","zMLSBfrLEhq","zhjHD011BhrPBgLUzvrLEhq","CMvTB3zLvgv4DevKAxrVCG","EKLUzgv4","rw50zxi","Dgv4DevKAxrVCLrLEhrbBgLNBG","mhb4","odK1oteZnwjruLzfqG","CMLNAhq","mNb4","zMXHz3m","BgfZDe1VDxnLrxzLBNq","mc4X","y2XPzw50wa","Dgv4DevKAxrVCLrLEhq","BgLUzuHLAwDODa","CgfKzgLUz0XLzNq","C3bSAxq","Agv4vg9sr0jb","CgfKzgLUzW","DgL0Bgu","ywn0AxzLrwXLBwvUDa","BNvTyMvY","yMfJA2DYB3vUzenVBg9Y","CMvZDg9Yzq","C2f2zq","CgfKzgLUz1jPz2H0","y3vYC29Y","yNv0Dg9U","Dgv4DevKAxrVCKjHy2TNCM91BMrbBhbOyq","qgjHy2TNCM91BMrbBhbOyq","zxHLyW","qgjHy2TNCM91BMrdB2XVCG","mtCZndm3oe1JsfDPEq","ChjVCgvYDgLLCW","mZjWEa","CMvNAxn0zxjLza","Bw91C2vKB3DU","CMvTB3zLrxzLBNrmAxn0zw5LCG","zgL2","Dgv4DevKAxrVCLbHzgrPBMC","yM9YzgvYuMfKAxvZ","Aw5WDxq","DgfYz2v0","tK9FveLuteu","z2v0rxH0CMfnzw51t3b0Aw9UCW","Dgv4DenVBg9YugLJA2vY","ChjVy2vZC1rLEhrmAw5LCW","B25dBgLJAW","CMvNAxn0zxjoB2rLvhLWzq","y29UzMLNDxjL","AxnfzgL0Aw5N","Dgv4DevKAxrVCKjHy2TNCM91BMrdB2XVCG","Dgv4DgfYzwe","y29Uy2f0","BgLUA0fYzwfZ","BgLUA09Wzw5fCNjVCG","ywn0AxzLx2nHBNzHCW","y3jLyxrLrwXLBwvUDa","ndqWnMjYAfP6Aq","yM94u2L6Aw5N","ChjLDMvUDerLzMf1Bhq","CgLUBMvK","BgLUzuHLAwDODfnSAwrLCG","zg93BG","CMvZAxPL","Bwv0yuTLEq","mxb4ihnVBgLKicm2nJy","mJvWEa","Bw92zvrV","B25dyw52yxndAgfUz2vK","DxrPBhmV5Bcp54+G5ywjtM90BW","Dgv4DevKAxrVCKrLzMf1BhruzxH0","iZmZmZmZmW","B3bLBG","Cg9PBNrLCG","ywrKrxzLBNrmAxn0zw5LCG","CMvTB3zL","CMvTB3zLq2HPBgq","y3jLyxrLvgv4DevKAxrVCG","ywXSB3DFAw50zxjHy3rPB24","zM9UDezHBwLSEq","y2XPy2S","nZiYndeWshfLz0fc","DhLWzq","yM9KEq","mJGWChG","zxjYB3i","Dgv4DevKAxrVCLrYyw5ZCgfYzw5JEq","BM9Uzq","i2zMzG","Dgv4DevKAxrVCLbPBG","BgvMDa","ywXWAgfwywX1zq","B3jKzxi","BgLUzuHLAwDODfzHBhvL","ywXPz25cDxr0B25Z","B25nB3vZzurVD24","ChvZAa","C2vYAwfSAxPLx3DPzgDLDhm","C3bHBG","zwrPDfrLEhrHCMvH","y3rYBeTLEq","mtuWChG","CMvNAxn0zxjfEhrLBNnPB24","DxbKyxrLrwrPDg9YC1bVC2L0Aw9U","Dgv4DevKAxrVCKzVBNrtAxPL","DhjPBq","mJu0EwXNtwjj","zMXLEerPCMvJDgLVBG","iZe5nZzemG","Dgv4DejHC2vSAw5L","DxbKyxrLqwXPz25cDxr0B25Z","yMfJA2DYB3vUzefSCgHH","ANvZDgLMEunVBNrLBNq","C3rYB2TLu3r5Bgu","Dgv4Da","y2fUDMfZ","qgzVBNrtAxPL","CMvWBgfJzq","B25tAg93q3vZDg9TugfUzwXjBMzV","Dgv4DefSAwDU","mc44","qhrLEhrbBgLNBG","y2vUDgvY","CMvKDwnL","zMLSBfn0EwXL","CgfYC2vuzxH0v2L0AeXPBMTZ","AgvPz2H0","mJaW","DxbKyxrLvgv4DgfYzwftDhLSzq","Aw5JBhvKzxm","BgLUzvrV","CM91BMq","zM9UDenVBg9Y","Dgv4DevKAxrVCKXPBMvizwLNAhq","mJbWEa","5Bcp54+G5ywjtM90BW","CMfUz2u","C2v0vxa","yxbWzw5Kq2HPBgq","mJHWEa","A2v5","AxnbCNjHEq","C3rYB2TL","rxnJyxbL","Bw91C2v1Ca","DgL0BgvFBw9Kzq","D3jHCfrLEhq","C2L6zq","ohb4","qgjVCMrLCLjHzgL1CW","BgLUA09Wzw5vCMW","yMvNAw5qyxrO","iZq0na","zM9UDfnPEMu","zgLZCgXHEq"];return(h=function(){return t})()}class n extends e{constructor(s=n[t(245)]){const e=t;super(s),this[e(235)]=this[e(235)]||{},this[e(235)][e(305)]=!this[e(235)][e(287)],this[e(259)]={text:i(e(297)),fontSize:14,fontColor:e(206),backgroundColor:e(298),backgroundAlpha:.8,borderRadius:8,padding:12,lineHeight:1.4,textAlign:e(317)},this.resizable=!0,this[e(374)]=[200,100],this[e(175)]="#fff0",this[e(382)]="#fff0",this[e(276)]=!1,this[e(326)]=null,this.linkAreas=[]}[t(373)](s,i,e){const h=t;if(!i||""===i[h(332)]())return[""];const n=i[h(242)](" "),r=[];let o=n[0]||"";for(let t=1;t<n[h(404)];t++){const i=n[t],a=o+" "+i;s[h(383)](a)[h(200)]<e?o=a:(r[h(323)](o),o=i)}return r[h(323)](o),r}[t(352)](s){const i=t,e=/#([^#]+)#/g,h=[];let n,r=0;for(;null!==(n=e[i(256)](s));)n[i(392)]>r&&h[i(323)]({type:"text",content:s.substring(r,n[i(392)])}),h[i(323)]({type:i(393),content:n[1],fullMatch:n[0]}),r=n[i(392)]+n[0][i(404)];return r<s[i(404)]&&h[i(323)]({type:i(341),content:s[i(417)](r)}),h}[t(272)](s,i,e){const h=t,n=i[h(344)](/\\n/g,"\n")[h(344)](/\r\n/g,"\n")[h(344)](/\r/g,"\n")[h(242)]("\n");let r=[];for(const t of n)if(""===t[h(332)]())r[h(323)]("");else{const i=this[h(373)](s,t,e);r=r[h(279)](i)}return r}[t(226)](s,i,e,h){const n=t;this[n(280)]=[];const r=this[n(272)](s,i,e);s[n(336)]="top",r[n(211)](((t,i)=>{const e=n,r=10+i*h;let o;e(317)===this[e(259)][e(346)]?(s[e(346)]=e(317),o=10):"right"===this[e(259)][e(346)]?(s.textAlign=e(233),o=this.size[0]-10):(s.textAlign=e(349),o=this[e(374)][0]/2);const a=this[e(352)](t);let l=o;if(e(349)===this.properties[e(346)]||"right"===this[e(259)].textAlign){const t=a[e(350)](((t,i)=>t+s[e(383)](i[e(177)]).width),0);l=e(349)===this[e(259)][e(346)]?(this[e(374)][0]-t)/2:this.size[0]-10-t,s[e(346)]=e(317)}a.forEach((t=>{const i=e;if(i(393)===t[i(309)]){const e=s.measureText(t[i(177)])[i(200)];this[i(280)].push({x:l,y:r,width:e,height:h,url:t.content}),s.fillStyle=i(335),s[i(225)](t[i(177)],l,r),s.measureText(t.content);const n=r+this[i(259)][i(380)];s[i(378)](),s[i(294)](l,n+1),s[i(357)](l+e,n+1),s[i(340)]=i(335),s[i(425)]=1,s[i(369)](),s[i(351)]=this[i(259)].fontColor,l+=e}else{const e=s.measureText(t.content)[i(200)];s.fillText(t.content,l,r),l+=e}}))}))}createTextEditor(){const e=t;this[e(326)]&&this.removeTextEditor();const h=LGraphCanvas[e(282)],n=h.canvas[e(397)](),r=(this[e(418)][0]+h.ds.offset[0])*h.ds[e(221)],a=(this[e(418)][1]+h.ds[e(428)][1])*h.ds[e(221)];this[e(194)]=document[e(283)](e(264)),this[e(194)][e(224)][e(166)]=e(391),this[e(194)][e(224)][e(317)]=n[e(317)]+r+"px",this[e(194)].style[e(219)]=n[e(219)]+a-150-50+"px",this.editToolbar[e(224)][e(200)]=e(311),this[e(194)].style[e(353)]=e(328),this.editToolbar[e(224)][e(381)]=e(407),this[e(194)][e(224)][e(334)]="column",this[e(194)].style.gap=e(375),this.editToolbar.style[e(228)]=e(190),this[e(194)][e(224)][e(380)]=e(220),this[e(194)][e(224)][e(175)]="#ffffff";const l=document[e(283)](e(264));l[e(224)][e(381)]="flex",l[e(224)][e(168)]="center",l.style.gap=e(375);const c=document[e(283)](e(325));c[e(431)]=i(e(167)),c[e(224)][e(380)]=e(220),c[e(224)][e(171)]=e(260),l.appendChild(c),this[e(321)]={},[{key:e(317),symbol:i("textEditorAlignLeftBtn"),title:i("textEditorAlignLeft")},{key:e(349),symbol:i(e(209)),title:i("textEditorAlignCenter")},{key:e(233),symbol:i("textEditorAlignRightBtn"),title:i("textEditorAlignRight")}][e(211)]((t=>{const i=e,h=document[i(283)](i(253));h[i(431)]=t[i(213)],h[i(245)]=t.title,h.style[i(200)]="28px",h.style[i(353)]="24px",h[i(224)][i(169)]=i(292),h.style[i(266)]=i(192),h[i(224)][i(248)]=this[i(259)][i(346)]===t.key?i(198):i(379),h[i(224)][i(175)]=i(315),h[i(224)][i(252)]=i(300),h[i(224)][i(380)]="10px",h[i(224)].display=i(407),h[i(224)][i(168)]=i(349),h[i(224)][i(339)]=i(349),h.addEventListener(i(307),(()=>{const e=i;this[e(259)][e(346)]=t[e(367)],this[e(337)](),s[e(215)][e(430)](!0)})),this[i(321)][t[i(367)]]=h,l[i(365)](h)})),this.editToolbar[e(365)](l);const g=document[e(283)](e(264));g[e(224)][e(381)]=e(407),g[e(224)][e(168)]=e(349),g.style[e(396)]=e(419);const v=document[e(283)](e(325));v[e(431)]=i(e(412)),v[e(224)][e(380)]="11px",v.style[e(171)]=e(260),g.appendChild(v),this[e(170)]=document.createElement(e(267)),this[e(170)][e(309)]="color",this[e(170)][e(387)]=this.properties[e(248)],this[e(170)][e(224)][e(200)]=e(366),this[e(170)][e(224)][e(353)]=e(424),this[e(170)][e(224)][e(169)]=e(314),this[e(170)][e(224)][e(266)]=e(192),this.bgColorPicker.style[e(252)]=e(300),this[e(170)][e(301)]("change",(t=>{const i=e;this.properties[i(248)]=t[i(268)][i(387)],this[i(355)](),s[i(215)][i(430)](!0)})),g[e(365)](this[e(170)]);const d=document[e(283)](e(325));d.textContent=i(e(239)),d[e(224)][e(380)]=e(220),g[e(365)](d),this[e(271)]=document.createElement(e(267)),this.textColorPicker.type="color",this[e(271)][e(387)]=this[e(259)][e(359)],this[e(271)][e(224)][e(200)]=e(366),this[e(271)][e(224)][e(353)]=e(424),this[e(271)][e(224)].border=e(314),this.textColorPicker.style[e(266)]=e(192),this[e(271)][e(224)][e(252)]="pointer",this[e(271)].addEventListener("change",(t=>{const i=e;this.properties[i(359)]=t.target.value,this[i(355)](),s[i(215)][i(430)](!0)})),g[e(365)](this[e(271)]),this.editToolbar.appendChild(g);const C=document[e(283)](e(264));C[e(224)].display=e(407),C.style.alignItems="center",C.style.gap=e(375);const x=document[e(283)](e(325));x[e(431)]=i(e(413)),x[e(224)][e(380)]=e(220),x.style.minWidth=e(260),C[e(365)](x),this[e(191)]=document[e(283)](e(267)),this[e(191)][e(309)]=e(363),this.fontSizeSlider[e(204)]="8",this[e(191)].max=e(354),this[e(191)][e(387)]=this.properties[e(380)],this[e(191)][e(224)][e(407)]="1",this.fontSizeSlider.style[e(353)]=e(361),this.fontSizeSlider.addEventListener(e(267),(t=>{const i=e;this[i(259)][i(380)]=parseInt(t[i(268)][i(387)]),this[i(427)][i(431)]=this[i(259)][i(380)],this[i(355)](),s[i(215)][i(430)](!0)})),C.appendChild(this.fontSizeSlider),this.fontSizeValue=document[e(283)](e(325)),this.fontSizeValue[e(431)]=this[e(259)][e(380)],this[e(427)][e(224)][e(380)]="11px",this[e(427)][e(224)].minWidth="25px",this[e(427)][e(224)][e(346)]=e(233),C[e(365)](this.fontSizeValue),this[e(194)].appendChild(C);const z=document.createElement(e(264));z[e(224)].display=e(407),z[e(224)][e(168)]=e(349),z[e(224)][e(396)]=e(375);const f=document.createElement("span");f[e(431)]=i(e(313)),f[e(224)][e(380)]="11px",f.style[e(171)]=e(260),z.appendChild(f),this[e(216)]=document[e(283)](e(267)),this[e(216)][e(309)]=e(363),this[e(216)][e(204)]="0",this[e(216)][e(203)]="1",this[e(216)][e(395)]=e(237),this[e(216)][e(387)]=this.properties[e(338)],this[e(216)][e(224)][e(407)]="1",this[e(216)][e(224)].height="20px",this[e(216)][e(301)](e(267),(t=>{const i=e;this[i(259)][i(338)]=parseFloat(t.target[i(387)]),this[i(318)][i(431)]=Math[i(358)](100*this[i(259)][i(338)])+"%",this[i(355)](),s[i(215)][i(430)](!0)})),z[e(365)](this[e(216)]),this[e(318)]=document[e(283)](e(325)),this[e(318)][e(431)]=Math[e(358)](100*this[e(259)][e(338)])+"%",this.alphaValue[e(224)].fontSize="11px",this.alphaValue.style[e(171)]="25px",this[e(318)][e(224)][e(346)]="right",z[e(365)](this[e(318)]),this[e(194)][e(365)](z);const L=document[e(283)](e(264));L[e(224)][e(381)]=e(407),L.style[e(168)]=e(349),L[e(224)].gap=e(375);const p=document.createElement(e(325));p.textContent=i(e(360)),p.style[e(380)]=e(220),p[e(224)].minWidth=e(260),L[e(365)](p),this[e(288)]=document.createElement("input"),this[e(288)][e(309)]=e(363),this[e(288)][e(204)]=e(347),this[e(288)][e(203)]="3.0",this[e(288)][e(395)]=e(237),this[e(288)].value=this[e(259)][e(240)],this[e(288)][e(224)].flex="1",this[e(288)].style[e(353)]=e(361),this.lineHeightSlider[e(301)](e(267),(t=>{const i=e;this.properties[i(240)]=parseFloat(t[i(268)][i(387)]),this[i(320)][i(431)]=this[i(259)][i(240)][i(172)](1),s.graph.setDirtyCanvas(!0)})),L[e(365)](this[e(288)]),this.lineHeightValue=document[e(283)]("span"),this[e(320)][e(431)]=this[e(259)][e(240)][e(172)](1),this[e(320)][e(224)][e(380)]=e(220),this[e(320)][e(224)][e(171)]=e(293),this.lineHeightValue[e(224)][e(346)]=e(233),L[e(365)](this[e(320)]),this.editToolbar[e(365)](L),document[e(310)][e(365)](this.editToolbar),this[e(326)]=document[e(283)](e(278)),this.editTextarea[e(387)]=this[e(259)].text,this[e(326)][e(224)][e(166)]=e(391),this[e(326)][e(224)][e(317)]=n.left+r+10*h.ds[e(221)]+"px",this[e(326)][e(224)][e(219)]=n[e(219)]+a+10*h.ds[e(221)]+"px",this[e(326)][e(224)][e(200)]=(this.size[0]-20)*h.ds[e(221)]+"px",this[e(326)][e(224)][e(353)]=(this[e(374)][1]-20)*h.ds.scale+"px",this[e(326)][e(224)][e(306)]="Arial, sans-serif",this[e(326)][e(224)][e(169)]="none",this.editTextarea[e(224)][e(266)]="0px",this.editTextarea[e(224)][e(244)]=e(231),this[e(326)][e(224)][e(290)]=e(314),this[e(326)][e(224)][e(217)]="none",this[e(326)][e(224)][e(285)]="border-box",this[e(326)].style[e(228)]=e(173),this.editTextarea[e(224)].textAlign=this.properties.textAlign,this[e(355)](),document[e(310)][e(365)](this[e(326)]),this[e(326)][e(421)](),this[e(326)][e(384)]();const u=()=>{const t=e;this[t(259)][t(341)]=this.editTextarea[t(387)],this[t(227)](),this[t(430)](!0,!0),s.graph[t(430)](!0)};this[e(330)]=()=>{const t=e;if(this[t(326)]&&this[t(194)]){const s=LGraphCanvas[t(282)],i=s[t(342)][t(397)](),e=(this.pos[0]+s.ds[t(428)][0])*s.ds.scale,h=(this[t(418)][1]+s.ds[t(428)][1])*s.ds[t(221)];this[t(326)].style[t(317)]=i[t(317)]+e+10*s.ds[t(221)]+"px",this[t(326)][t(224)][t(219)]=i[t(219)]+h+10*s.ds[t(221)]+"px",this[t(326)].style[t(200)]=(this.size[0]-20)*s.ds[t(221)]+"px",this[t(326)].style[t(353)]=(this.size[1]-20)*s.ds[t(221)]+"px",this.editToolbar.style[t(317)]=i[t(317)]+e+"px",this.editToolbar[t(224)][t(219)]=i[t(219)]+h-150-50+"px",this[t(355)]()}};const y=h[e(295)];h.onCanvasChanged=t=>{const s=e;y&&y[s(201)](h,t),this[s(330)]()},this[e(429)]=setInterval((()=>{this.updateEditorsPosition()}),16),this[e(326)][e(301)](e(222),(t=>{const s=e;s(370)===t[s(367)]?this[s(227)]():s(229)===t[s(367)]&&(t[s(327)]||t[s(291)])&&u(),t[s(185)]()})),this.clickCount=0,this[e(403)]=t=>{const s=e;this[s(410)]++,setTimeout((()=>{const i=s;this[i(410)]--,0===this.clickCount&&this[i(326)]&&this[i(194)]&&!this[i(326)][i(420)](t.target)&&!this[i(194)][i(420)](t[i(268)])&&this[i(276)]&&u()}),300)},setTimeout((()=>{const t=e;this[t(276)]&&document[t(301)](t(307),this[t(403)],!0)}),200),this[e(326)][e(301)](e(409),(t=>{setTimeout((()=>{const t=o;this.editToolbar&&this[t(326)]&&!this[t(194)][t(420)](document[t(246)])&&document.activeElement!==this.editTextarea&&u()}),100)})),this.isEditing=!0}[t(355)](){const s=t;this[s(326)]&&(this[s(326)][s(224)][s(380)]=this[s(259)][s(380)]*LGraphCanvas[s(282)].ds.scale+"px",this[s(326)][s(224)][s(175)]=this[s(259)][s(359)],this[s(326)][s(224)][s(248)]=this[s(243)](this[s(259)][s(248)],this[s(259)].backgroundAlpha),this[s(326)][s(224)].textAlign=this[s(259)][s(346)],this[s(326)][s(224)][s(240)]=this.properties[s(240)],this.editTextarea[s(224)][s(214)]=s(234),this[s(326)].style[s(241)]="0px",this.editTextarea[s(224)][s(251)]="0px",this[s(326)][s(224)].paddingBottom="0px",this[s(326)].style[s(285)]=s(178))}[t(337)](){const s=t;Object.keys(this[s(321)]).forEach((t=>{const i=s;this[i(321)][t][i(224)][i(248)]=this[i(259)].textAlign===t?i(198):i(379)}))}[t(227)](){const s=t;this[s(326)]&&(document[s(310)][s(303)](this[s(326)]),this[s(326)]=null),this[s(194)]&&(document.body[s(303)](this.editToolbar),this[s(194)]=null),this[s(429)]&&(clearInterval(this[s(429)]),this[s(429)]=null),this[s(403)]&&(document[s(263)](s(307),this[s(403)],!0),this[s(403)]=null),this[s(276)]=!1}[t(181)](s){const i=t;s[i(250)](),s.beginPath();const e=this[i(259)].borderRadius;s[i(193)](0,0,this[i(374)][0],this[i(374)][1],e);const h=this.properties[i(248)],n=this[i(259)][i(338)];if(s.fillStyle=this[i(243)](h,n),s.fill(),this[i(276)]&&(s.strokeStyle=i(198),s[i(425)]=2,s[i(369)]()),s.beginPath(),s[i(193)](0,0,this[i(374)][0],this[i(374)][1],e),s[i(180)](),!this[i(276)]){s[i(351)]=this[i(259)].fontColor,s[i(422)]=this[i(259)][i(380)]+i(405);const t=this[i(259)][i(380)]*this[i(259)][i(240)],e=this.size[0]-20;this[i(226)](s,this.properties[i(341)],e,t)}s[i(249)]()}[t(243)](s,i){const e=t;return"rgba("+parseInt(s[e(398)](1,3),16)+", "+parseInt(s[e(398)](3,5),16)+", "+parseInt(s[e(398)](5,7),16)+", "+i+")"}onPropertyChanged(i,e){const h=t;this[h(276)]&&(h(380)===i&&this.fontSizeSlider?(this[h(191)][h(387)]=e,this[h(427)].textContent=e):h(359)===i&&this[h(271)]?this[h(271)][h(387)]=e:"backgroundColor"===i&&this[h(170)]?this.bgColorPicker[h(387)]=e:h(338)===i&&this.alphaSlider?(this[h(216)][h(387)]=e,this[h(318)].textContent=Math[h(358)](100*e)+"%"):h(240)===i&&this[h(288)]?(this.lineHeightSlider[h(387)]=e,this.lineHeightValue[h(431)]=e.toFixed(1)):h(346)===i&&this[h(321)]&&this[h(337)](),this[h(355)]()),this[h(430)](!0,!0),s[h(215)][h(430)](!0)}[t(322)](s,i,e){const h=t;if(!this[h(276)]&&this[h(280)]&&this[h(280)].length>0){const t=[i[0]-this[h(418)][0],i[1]-this[h(418)][1]];for(const s of this[h(280)])if(t[0]>=s.x&&t[0]<=s.x+s[h(200)]&&t[1]>=s.y&&t[1]<=s.y+s.height)return this[h(385)](s[h(179)]),!0}return!1}[t(273)](s,i,e){const h=t;if(!this[h(276)]&&this[h(280)]&&this.linkAreas[h(404)]>0){const t=[i[0]-this[h(418)][0],i[1]-this[h(418)][1]];for(const s of this[h(280)])if(t[0]>=s.x&&t[0]<=s.x+s[h(200)]&&t[1]>=s.y&&t[1]<=s.y+s[h(353)])return this[h(385)](s[h(179)]),!0}return!1}[t(385)](s){const e=t;try{s[e(218)](/^https?:\/\//)||(s=e(414)+s);const t=i(e(199))+"\n\n"+i(e(377))+s;confirm(t)&&e(210)!=typeof window&&window[e(299)]&&window.open(s,e(208))}catch(t){console[e(312)](i(e(281))+":",t),alert(i(e(281))+": "+s)}}onDblClick(s,i,e){this[t(276)]||this.createTextEditor()}[t(205)](i){const e=t;i&&Array[e(368)](i)&&i[e(404)]>=2&&(this[e(374)][0]=Math.max(i[0],100),this[e(374)][1]=Math[e(203)](i[1],50),s.graph[e(430)](!0))}[t(270)](s,e){const h=t;e.unshift({content:i(h(415)),callback:()=>{this[h(304)]()}}),e[h(323)]({content:i(h(316)),callback:()=>{const t=h;this[t(235)][t(287)]=!this[t(235)][t(287)],this[t(235)][t(305)]=!this[t(235)][t(287)]}})}[t(345)](s){const i=t;var e,h;null===(e=s[i(188)](i(189)))||void 0===e||e.remove(),null===(h=s.querySelector('div.property[data-property="Color"]'))||void 0===h||h[i(302)]()}[t(400)](s){const i=t;this[i(235)]=this.flags||{},this[i(235)][i(305)]=!this[i(235)][i(287)],this[i(181)](s)}[t(408)](){this[t(227)]()}}n[t(309)]=t(296),n[t(245)]=t(362),n[t(372)]=LiteGraph[t(269)],n.collapsable=!1,n[t(184)]={type:t(186),title:i(t(212)),default:i(t(297)),multiline:!0},n[t(343)]={type:t(247),title:i(t(331)),default:14,min:8,max:32,step:1},n[t(423)]={type:t(175),title:i("textEditorFontColor"),default:t(206)},n[t(257)]={type:t(175),title:i(t(277)),default:t(298)},n[t(255)]={type:t(247),title:i(t(254)),default:.8,min:0,max:1,step:.1},n[t(376)]={type:t(247),title:i(t(399)),default:8,min:0,max:50,step:1},n["@padding"]={type:t(247),title:i(t(265)),default:12,min:0,max:50,step:1},n["@lineHeight"]={type:t(247),title:i(t(406)),default:1.4,min:.8,max:3,step:.1},n[t(348)]={type:t(426),title:i(t(230)),values:[t(317),"center",t(233)],default:t(317)};const r=LGraphCanvas.prototype[t(401)];function o(t,s){const i=h();return o=function(s,e){let h=i[s-=165];if(void 0===o.SburUe){o.fxmurl=function(t){let s="",i="";for(let i,e,h=0,n=0;e=t.charAt(n++);~e&&(i=h%4?64*i+e:e,h++%4)?s+=String.fromCharCode(255&i>>(-2*h&6)):0)e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(e);for(let t=0,e=s.length;t<e;t++)i+="%"+("00"+s.charCodeAt(t).toString(16)).slice(-2);return decodeURIComponent(i)},t=arguments,o.SburUe=!0}const n=s+i[0],r=t[n];return r?h=r:(h=o.fxmurl(h),t[n]=h),h},o(t,s)}LGraphCanvas[t(197)].drawNode=function(s,i){const e=t;if(s.constructor===n){s.bgcolor=e(389),s[e(175)]=e(389);const t=r[e(394)](this,arguments);return s[e(181)](i),t}return r[e(394)](this,arguments)};const a=LGraphCanvas[t(197)][t(207)];LGraphCanvas[t(197)][t(207)]=function(s){const i=t;if(!this[i(215)])return;const e=this.canvas[i(397)](),h=(s[i(238)],e[i(317)],s.clientY,e.top,this[i(416)](s)),r=this.graph[i(388)](h[0],h[1],this.visible_nodes);if(r&&r[i(202)]===n&&!r.isEditing){const t=[h[0]-r[i(418)][0],h[1]-r.pos[1]];if(r[i(280)]&&r.linkAreas[i(404)]>0)for(const e of r.linkAreas)if(t[0]>=e.x&&t[0]<=e.x+e.width&&t[1]>=e.y&&t[1]<=e.y+e[i(353)])return r[i(385)](e[i(179)]),s[i(286)](),s[i(185)](),!1}return a[i(201)](this,s)};const l={processingMouseDown:!1,lastMouseEvent:null,lastClickTime:0},c=LGraph.prototype[t(388)];LGraph.prototype.getNodeOnPos=function(s,i,e,h){const r=t;if(e){const t=LiteGraph[r(195)]()-(LGraphCanvas[r(282)]&&LGraphCanvas[r(282)].last_mouseclick?LGraphCanvas.active_canvas[r(176)]:0)<300;l.processingMouseDown&&l[r(236)]&&l[r(236)][r(309)][r(356)](r(289))&&1===l.lastMouseEvent[r(165)]&&!t&&(e=[...e].filter((t=>!(t instanceof n&&t[r(235)][r(287)]))))}return c[r(394)](this,[s,i,e,h])},document[t(301)](t(262),(function(s){const i=t;l[i(187)]=!0,l[i(236)]=s}),!0),document[t(301)](t(371),(function(){l[t(187)]=!1}),!0),s[t(329)]({name:t(362),registerCustomNodes(){n[t(364)]()}});